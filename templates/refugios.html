<!-- Partial: Refugios (fragment) -->
<!-- Incluye estilos mínimos locales para conservar el diseño del módulo cuando se inyecta -->
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
  .refugios-partial { font-family: 'Poppins', sans-serif; }
  .card-hover { transition: all 0.3s cubic-bezier(0.4,0,0.2,1); }
  .card-hover:hover { transform: translateY(-8px); box-shadow: 0 20px 40px rgba(0,0,0,0.12); }
  .btn-primary { background: linear-gradient(135deg,#667eea 0%,#16166a 100%); }
  .btn-secondary{ background:#f3f4f6; color:#374151 }
  .btn-danger{ background:#ef4444; color:#fff }
  .modal-backdrop{ animation: fadeIn 0.25s ease }
  .modal-content{ animation: slideUp 0.28s cubic-bezier(.34,1.56,.64,1) }
  .loading-spinner{ border:3px solid rgba(0,0,0,0.05); border-top:3px solid rgba(0,0,0,0.2); width:28px; height:28px; border-radius:50%; animation:spin 1s linear infinite }
  @keyframes spin{ to{ transform:rotate(360deg) } }
  .header-section{ background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); box-shadow:0 8px 32px rgba(0,0,0,0.06); }
</style>

<div class="refugios-partial min-h-screen py-8 px-4 sm:px-6 lg:px-8">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="header-section rounded-2xl p-8 mb-10">
      <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6">
        <div>
          <div class="flex items-center gap-3 mb-2">
            <div class="icon-box" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;">
              <i class="fas fa-home"></i>
            </div>
            <h1 class="text-3xl sm:text-4xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent">Gestión de Refugios</h1>
          </div>
          <p class="text-gray-600 text-sm sm:text-base">Administra todos los refugios registrados de manera fácil y segura.</p>
        </div>
        <button id="btnNuevo" class="btn-primary px-6 py-3 rounded-xl font-semibold text-white flex items-center gap-2 whitespace-nowrap shadow-lg">
          <i class="fas fa-plus"></i> Nuevo Refugio
        </button>
      </div>
    </div>

    <!-- Alert -->
    <div id="alert" class="hidden fixed top-6 right-6 max-w-md rounded-xl p-4 text-white shadow-lg z-40">
      <div class="flex items-start gap-3">
        <i class="fas fa-check-circle mt-1"></i>
        <div>
          <strong id="alertTitle" class="block mb-1">OK</strong>
          <p id="alertMsg" class="text-sm"></p>
        </div>
      </div>
    </div>

    <!-- Grid de refugios -->
    <div id="gridRefugios" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="col-span-full flex justify-center items-center py-16">
        <div class="loading-spinner"></div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div id="modal" class="fixed inset-0 hidden items-center justify-center bg-black/50 z-50 modal-backdrop p-4">
  <div class="bg-white rounded-2xl w-full max-w-2xl shadow-2xl modal-content">
    <div class="flex items-center justify-between p-6 border-b border-gray-200">
      <div>
        <h3 id="modalTitle" class="text-2xl font-bold text-gray-800">Nuevo Refugio</h3>
        <p class="text-sm text-gray-500 mt-1">Completa todos los campos para continuar</p>
      </div>
      <button id="closeModal" class="text-gray-400 hover:text-gray-600 transition text-2xl w-8 h-8 flex items-center justify-center">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <form id="formRefugio" class="p-6 space-y-5">
      <input type="hidden" id="idRefugio" />
      
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">Nombre del Refugio *</label>
          <input id="nombre" type="text" class="input-field w-full rounded-lg px-4 py-2.5" placeholder="Ej: Casa de Amigos" required />
        </div>
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">Teléfono</label>
          <input id="telefono" type="tel" class="input-field w-full rounded-lg px-4 py-2.5" placeholder="Ej: +34 912 345 678" />
        </div>
      </div>

      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">Dirección</label>
        <input id="direccion" type="text" class="input-field w-full rounded-lg px-4 py-2.5" placeholder="Ej: Calle Principal 123, Madrid" />
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">Correo Electrónico</label>
          <input id="correoElectronico" type="email" class="input-field w-full rounded-lg px-4 py-2.5" placeholder="Ej: contacto@refugio.com" />
        </div>
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">Capacidad</label>
          <input id="capacidad" type="number" min="0" class="input-field w-full rounded-lg px-4 py-2.5" placeholder="Ej: 50" />
        </div>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">Fecha de Fundación</label>
          <input id="fechaFundacion" type="date" class="input-field w-full rounded-lg px-4 py-2.5" />
        </div>
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">Descripción</label>
          <input id="descripcion" type="text" class="input-field w-full rounded-lg px-4 py-2.5" placeholder="Breve descripción" />
        </div>
      </div>

      <div class="flex justify-end gap-3 mt-6">
        <button type="button" id="btnCancelar" class="btn-secondary px-6 py-2.5 rounded-lg font-semibold transition">Cancelar</button>
        <button type="submit" class="btn-primary px-6 py-2.5 rounded-lg font-semibold text-white transition">Guardar Refugio</button>
      </div>
    </form>
  </div>
</div>